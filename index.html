<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Professional Subscribe Notification</title>
<meta name="description" content="Subscribe to receive professional browser notifications">
<style>
  /* ===== CSS Variables ===== */
  :root {
    --primary-gradient: linear-gradient(135deg, #6a11cb, #2575fc);
    --primary-gradient-hover: linear-gradient(135deg, #5c0fb8, #1f64d6);
    --danger-color: #ff6b81;
    --danger-hover: #e5506e;
    --success-color: #4caf50;
    --warning-color: #ff9800;
    --card-shadow: 0 12px 30px rgba(0,0,0,0.12);
    --btn-shadow: 0 6px 16px rgba(0,0,0,0.08);
    --transition: all 0.3s ease;
    --border-radius: 20px;
  }

  body {
    margin: 0;
    font-family: "Poppins", Arial, sans-serif;
    background: linear-gradient(135deg, #e0f7fa, #f1f8e9);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 20px;
    color: #333;
    line-height: 1.6;
  }

  .card {
    background: #fff;
    padding: 40px 35px;
    border-radius: var(--border-radius);
    box-shadow: var(--card-shadow);
    text-align: center;
    max-width: 450px;
    width: 100%;
    transition: var(--transition);
    animation: fadeIn 0.5s ease;
  }

  .card__icon {
    font-size: 2.5rem;
    margin-bottom: 15px;
    display: block;
  }

  .card__title {
    font-size: 28px;
    color: #5c6bc0;
    margin-bottom: 12px;
    font-weight: 600;
  }

  .card__description {
    font-size: 16px;
    color: #555;
    margin-bottom: 28px;
  }

  .status {
    display: inline-flex;
    align-items: center;
    padding: 8px 16px;
    border-radius: 50px;
    font-size: 14px;
    margin-bottom: 20px;
    background-color: #f5f5f5;
  }
  .status__indicator {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    margin-right: 8px;
  }
  .status--inactive .status__indicator { background-color: #bbb; }
  .status--active .status__indicator { background-color: var(--success-color); }
  .status--denied .status__indicator { background-color: var(--danger-color); }

  .buttons {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 12px;
    margin-top: 20px;
  }

  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 14px 28px;
    font-size: 15px;
    font-weight: 600;
    border-radius: 8px;
    cursor: pointer;
    transition: var(--transition);
    border: none;
    box-shadow: var(--btn-shadow);
    min-width: 140px;
  }
  .btn:focus { outline: 2px solid #5c6bc0; outline-offset: 2px; }
  .btn--primary { background: var(--primary-gradient); color: #fff; }
  .btn--primary:hover { background: var(--primary-gradient-hover); transform: translateY(-2px); }
  .btn--danger { background: var(--danger-color); color: #fff; }
  .btn--danger:hover { background: var(--danger-hover); transform: translateY(-2px); }
  .btn:disabled { opacity: 0.7; cursor: not-allowed; transform: none; }

  .toast {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #333;
    color: white;
    padding: 12px 24px;
    border-radius: 4px;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s, visibility 0.3s;
    z-index: 1000;
  }
  .toast--visible { opacity: 1; visibility: visible; }
  .toast--success { background-color: var(--success-color); }
  .toast--error { background-color: var(--danger-color); }

  @media (max-width: 480px) {
    .card { padding: 30px 20px; }
    .card__title { font-size: 24px; }
    .card__description { font-size: 14px; }
    .btn { padding: 12px 24px; font-size: 14px; min-width: 120px; }
    .buttons { flex-direction: column; }
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>
</head>
<body>

<div class="card">
  <span class="card__icon">ðŸ””</span>
  <h1 class="card__title">Subscribe Notifications</h1>
  
  <div id="statusIndicator" class="status status--inactive">
    <span class="status__indicator"></span>
    <span class="status__text">Notifications inactive</span>
  </div>
  
  <p class="card__description">Click "Subscribe" to receive browser notifications. Demo messages will appear every 10 seconds. You can stop them anytime.</p>
  
  <div class="buttons">
    <button class="btn btn--primary" id="subscribeBtn">Subscribe</button>
    <button class="btn btn--danger" id="stopBtn" disabled>Stop</button>
  </div>
</div>

<div id="toast" class="toast"></div>

<script>
let intervalId = null;
let notificationCount = 0;
const MAX_NOTIFICATIONS = 50;

// ===== Random Messages =====
const messages = [
  "Hello there! ðŸŒ¸",
  "Stay awesome! âœ¨",
  "Check this out! ðŸŽ‰",
  "New surprise for you ðŸ’–",
  "Message from your web app ðŸ’Œ",
  "Hope you're having a great day! ðŸŒŸ",
  "Atharv, youâ€™ve got this! ðŸš€",
  "Good vibes only ðŸŒˆ",
  "Youâ€™re amazing ðŸ’Ž",
  "Fresh notification just for you ðŸ“°",
  "Keep shining bright like the stars âœ¨",
  "Little things matter the most ðŸŒ±",
  "New ideas are loading... ðŸ’¡",
  "Your energy is contagious ðŸ”¥",
  "Never stop believing in yourself ðŸŒ ",
  "Every 10 seconds, a smile for you ðŸ˜„",
  "Hereâ€™s your dose of positivity â˜€ï¸",
  "Small step today, big change tomorrow ðŸŒ",
  "Hii ð´ð‘¡â„Žð‘Žð‘Ÿð‘£Ëšâ‚ŠÂ·â€” ÍŸÍžÍžâ™¡",
  "Another lovely notification just arrived ðŸ“©",
  "Success is on your way ðŸŒŸ",
  "Stay hydrated ðŸ’§",
  "Take a deep breath ðŸŒ¬ï¸",
  "Be kind to yourself ðŸ’•",
  "Youâ€™re stronger than you think ðŸ¦‹",
  "Shining brighter each moment ðŸŒž",
  "Your presence matters ðŸŒ",
  "Great things are coming ðŸ”®",
  "This notification loves you â¤ï¸"
];

// ===== DOM Elements =====
const subscribeBtn = document.getElementById('subscribeBtn');
const stopBtn = document.getElementById('stopBtn');
const statusIndicator = document.getElementById('statusIndicator');
const toast = document.getElementById('toast');

document.addEventListener('DOMContentLoaded', init);

function init() {
  if (!("Notification" in window)) {
    showToast('Your browser does not support notifications', 'error');
    subscribeBtn.disabled = true;
    updateStatus('inactive', 'Not supported');
    return;
  }
  checkPermissionState();
  subscribeBtn.addEventListener('click', handleSubscription);
  stopBtn.addEventListener('click', stopNotifications);
}

function checkPermissionState() {
  if (Notification.permission === 'denied') {
    updateStatus('denied', 'Notifications blocked');
    subscribeBtn.disabled = true;
    showToast('Blocked in browser', 'error');
  } else if (Notification.permission === 'granted') {
    updateStatus('active', 'Notifications active');
    subscribeBtn.disabled = true;
    stopBtn.disabled = false;
  }
}

function handleSubscription() {
  if (Notification.permission === 'granted') {
    startNotifications();
  } else {
    Notification.requestPermission().then(permission => {
      if (permission === 'granted') {
        startNotifications();
      } else {
        updateStatus('denied', 'Notifications denied');
        subscribeBtn.disabled = false;
        showToast('Permission denied', 'error');
      }
    });
  }
}

function startNotifications() {
  if (intervalId) {
    showToast('Already running', 'error');
    return;
  }
  updateStatus('active', 'Notifications active');
  subscribeBtn.disabled = true;
  stopBtn.disabled = false;
  notificationCount = 0;
  showToast('Notifications started', 'success');
  showRandomNotification();
  intervalId = setInterval(() => {
    if (notificationCount >= MAX_NOTIFICATIONS) {
      showToast('Limit reached', 'error');
      stopNotifications();
      return;
    }
    showRandomNotification();
  }, 10000);
}

function showRandomNotification() {
  const message = messages[Math.floor(Math.random() * messages.length)];
  const options = {
    body: "This is a demo notification",
    icon: "https://cdn-icons-png.flaticon.com/512/565/565547.png",
    badge: "https://cdn-icons-png.flaticon.com/512/565/565547.png",
    tag: "demo"
  };
  try {
    new Notification(message, options);
    notificationCount++;
  } catch (error) {
    console.error(error);
    showToast('Error showing notification', 'error');
  }
}

function stopNotifications() {
  if (intervalId) {
    clearInterval(intervalId);
    intervalId = null;
  }
  updateStatus('inactive', 'Notifications inactive');
  subscribeBtn.disabled = false;
  stopBtn.disabled = true;
  showToast('Stopped', 'success');
}

function updateStatus(status, text) {
  statusIndicator.className = 'status';
  statusIndicator.classList.add(`status--${status}`);
  statusIndicator.querySelector('.status__text').textContent = text;
}

function showToast(message, type = '') {
  toast.textContent = message;
  toast.className = 'toast';
  if (type) toast.classList.add(`toast--${type}`);
  toast.classList.add('toast--visible');
  setTimeout(() => toast.classList.remove('toast--visible'), 3000);
}
</script>
</body>
</html>